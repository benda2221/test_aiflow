## Problem Statement

Implement a Cholesky decomposition function for 32×32 positive definite matrices. Cholesky decomposition factors a symmetric positive definite matrix A into the product A = L × L^T, where L is a lower triangular matrix. This is a fundamental operation in numerical linear algebra with applications in solving linear systems, optimization, and statistical computations.

The implementation should:
- Accept a 32×32 matrix as input
- Perform Cholesky decomposition using an efficient algorithm
- Handle edge cases (e.g., non-positive definite matrices)
- Provide clear error handling
- Follow the existing C SDK structure and coding conventions

## Proposed Solution

### Phase 1: Documentation

**Files to create/modify:**
- `docs/cholesky.md` (new file, ~50 LOC)
  - Add documentation explaining Cholesky decomposition
  - Document the API: function signature, parameters, return values
  - Include usage examples with sample 32×32 matrices
  - Explain error conditions and return codes
  - Document mathematical background and algorithm complexity

### Phase 2: Test Cases

**Files to create/modify:**
- `tests/test_cholesky.c` (new file, ~200 LOC)
  - Test case: Decompose a known 32×32 positive definite matrix and verify L × L^T = A
  - Test case: Verify lower triangular property of result matrix
  - Test case: Test with identity matrix (should return identity)
  - Test case: Test error handling for non-positive definite matrix
  - Test case: Test error handling for non-symmetric matrix
  - Test case: Test with edge cases (very small values, near-singular matrices)
  - Test case: Verify numerical stability with well-conditioned matrices

### Phase 3: Header File

**Files to create/modify:**
- `include/cholesky.h` (new file, ~30 LOC)
  - Function declaration: `int cholesky_decompose_32x32(double A[32][32], double L[32][32])`
  - Return value: 0 on success, non-zero error code on failure
  - Include proper header guards
  - Add documentation comments for Doxygen-style docs

### Phase 4: Implementation

**Files to create/modify:**
- `src/cholesky.c` (new file, ~150 LOC)
  - Implement Cholesky decomposition using the standard algorithm:
    - For i from 0 to 31:
      - Compute L[i][i] = sqrt(A[i][i] - sum of L[i][k]^2 for k < i)
      - For j from i+1 to 31:
        - Compute L[j][i] = (A[j][i] - sum of L[j][k] * L[i][k] for k < i) / L[i][i]
  - Validate input: check for symmetry and positive definiteness
  - Handle numerical errors (e.g., negative values under square root)
  - Return appropriate error codes:
    - 0: Success
    - 1: Matrix is not symmetric
    - 2: Matrix is not positive definite
    - 3: Numerical error during computation
  - Use efficient memory access patterns for cache performance
  - Add inline comments explaining the algorithm steps

### Phase 5: Build System Integration

**Files to create/modify:**
- `CMakeLists.txt` (modify, ~5 LOC change)
  - Add `src/cholesky.c` to the library sources
  - Update: `add_library(sdk STATIC src/hello.c src/cholesky.c)`
  
- `tests/test_main.c` (modify, ~10 LOC change)
  - Add test case registration for Cholesky tests
  - Or create separate test executable: `add_executable(test_cholesky tests/test_cholesky.c)`
  - Add: `add_test(NAME CholeskyTest COMMAND test_cholesky)`

### Implementation Details

**Algorithm Choice:**
- Use the standard Cholesky-Crout algorithm (column-oriented)
- This provides good cache locality for 32×32 matrices
- Time complexity: O(n³/3) where n=32
- Space complexity: O(n²) for the result matrix

**Numerical Considerations:**
- Use `double` precision for better numerical stability
- Check for positive definiteness by ensuring all diagonal elements of L are positive
- Add small epsilon tolerance for floating-point comparisons
- Handle near-zero values appropriately to avoid division by zero

**Error Handling:**
- Validate matrix symmetry before decomposition
- Check positive definiteness during decomposition (if diagonal becomes non-positive)
- Return meaningful error codes for debugging

**Code Style:**
- Follow existing C99 standard (as per CMakeLists.txt)
- Use consistent naming conventions matching existing code
- Add clear comments for complex mathematical operations
- Ensure proper memory alignment for performance

## Test Strategy

1. **Unit Tests**: Comprehensive test suite in `tests/test_cholesky.c` covering:
   - Correctness: Verify mathematical correctness with known matrices
   - Edge cases: Identity matrix, diagonal matrices, near-singular matrices
   - Error conditions: Non-symmetric, non-positive definite inputs
   - Numerical stability: Test with various condition numbers

2. **Integration**: Tests will be integrated into the existing CTest framework via CMakeLists.txt

3. **Validation Approach**:
   - For each test matrix A, compute L = cholesky_decompose_32x32(A)
   - Verify: L is lower triangular (L[i][j] == 0 for i < j)
   - Verify: L × L^T ≈ A (within floating-point tolerance)
   - Verify: All diagonal elements of L are positive

4. **Test Data**: Include precomputed 32×32 positive definite matrices with known Cholesky factors for validation

**Estimated Total Complexity**: ~435 LOC (50 docs + 200 tests + 30 header + 150 implementation + 5 build changes)

